# ベースプロジェクトとしての適切な範囲 - 見直し提案

WebService-Next-Hono-Base の「再利用可能な基盤プロジェクト」としての本来の目的を考慮し、提供すべき範囲を見直します。

---

## 🎯 ベースプロジェクトの原則

### ✅ **提供すべき範囲**
- **汎用性が高い**: どのWebサービスでも必要
- **技術的に標準化可能**: ベストプラクティスが確立されている
- **プロジェクト固有の要素が少ない**: 個別カスタマイズが最小限
- **学習コストが適切**: 導入しやすい

### ❌ **提供すべきでない範囲**
- **プロジェクト固有**: ビジネスロジックや要件に大きく依存
- **デザイン・UI**: ブランド・ユーザー体験が大きく異なる
- **インフラ**: 環境・予算・要件により大幅に異なる
- **過度に詳細**: 個別プロジェクトで判断すべき内容

---

## 📊 現在の計画の見直し

### ✅ **Phase 1-2: 基盤として提供すべき（完了・継続）**

| ガイドライン | 汎用性 | 標準化度 | 判定 | 理由 |
|-------------|-------|----------|------|------|
| **API設計** | 高 | 高 | ✅ 必須 | RESTful設計は普遍的 |
| **OpenAPI仕様書作成** | 高 | 高 | ✅ 必須 | 契約駆動開発の基盤 |
| **セキュリティ** | 高 | 高 | ✅ 必須 | 認証・認可は共通要件 |
| **データベース設計** | 高 | 高 | ✅ 必須 | Drizzle ORM + PostgreSQL |
| **テスト戦略** | 高 | 高 | ✅ 必須 | 品質保証の基盤 |
| **CI/CD** | 高 | 高 | ✅ 必須 | GitHub Actions標準化 |
| **監視・ログ** | 高 | 高 | ✅ 必須 | 観測性は共通基盤 |
| **パフォーマンス仕様書作成** | 高 | 中 | ✅ 必須 | 仕様書作成手法は汎用的 |

### ⚠️ **Phase 3以降: 見直しが必要**

| ガイドライン | 汎用性 | 標準化度 | 判定 | 理由 |
|-------------|-------|----------|------|------|
| **UIデザインシステム** | 低 | 低 | ❌ 除外 | ブランド・デザインはプロジェクト固有 |
| **エラーハンドリング** | 中 | 中 | 🤔 検討 | ビジネスロジックに依存する部分が多い |
| **開発環境インフラ** | 高 | 高 | ✅ 必須 | Docker、開発サーバー等は共通 |
| **本番インフラ・デプロイメント** | 低 | 中 | 📚 ガイド | 要件により異なるが、ガイドライン+テンプレート集として価値あり |
| **コードレビューガイドライン** | 高 | 高 | ✅ 追加 | チーム開発の基盤として有用 |

---

## 🚀 見直し後の推奨範囲

### 📦 **ベースプロジェクトとして提供（Phase 1-2 + 開発環境）**

```
WebService-Next-Hono-Base 基盤ガイドライン
├── 00-x: プロジェクト基盤
│   ├── 全体仕様・開発ワークフロー・技術仕様書一覧
├── 10-0〜10-8: 技術ガイドライン
│   ├── API設計・OpenAPI・セキュリティ
│   ├── データベース・テスト・CI/CD
│   ├── 監視・ログ・パフォーマンス仕様書作成
│   └── 開発環境セットアップ・Docker構成
└── 90-x: 運用・管理
    └── コードレビューガイドライン
```

### 📚 **実サービス向けガイドライン集（必須だがプロジェクト固有）**

```
WebService-Next-Hono-Base 実サービス構築ガイド
├── Vercel本番運用ガイドライン
│   ├── プロジェクト設定・環境変数管理
│   ├── ドメイン・SSL設定・CDN最適化
│   ├── スケーリング・パフォーマンス監視
│   └── セキュリティヘッダー・CSP設定
├── データベース本番運用
│   ├── Neon/PlanetScale 本番構成
│   ├── バックアップ・復旧戦略
│   └── 接続プール・パフォーマンス最適化
└── UI/UXガイドライン集
    └── Tailwind CSS + shadcn/ui 参考実装
```

---

## 💡 具体的な変更提案

### 1. **90-1ファイルの整理**
- Phase 3以降の一部項目を「拡張リソース」として分離
- 基盤として必須の範囲を明確化

### 2. **追加すべきガイドライン**

#### **10-8-development-environment-guidelines.md**
**基盤としての必要性**: 統一された開発環境の確立

**含むべき内容**:
- Docker Compose 完全構成（API + DB + Redis）
- VS Code設定・拡張機能推奨
- pnpm scripts 最適化・ホットリロード
- Infisical 開発環境統合・環境変数管理
- 開発用テストデータ・シードスクリプト

#### **10-9-code-review-guidelines.md**
**基盤としての必要性**: チーム開発品質の標準化

**含むべき内容**:
- レビュー観点・チェックリスト
- セキュリティ・パフォーマンス観点
- Next.js + Hono固有の注意点
- 自動化ツール連携

### 3. **実サービス向けガイドライン（別カテゴリ）**
- **Vercel本番運用** → プロジェクト設定、ドメイン・SSL、スケーリング戦略
- **データベース本番運用** → Neon/PlanetScale構成、バックアップ戦略
- **UIデザインシステム** → 参考実装・コンポーネント集として別途提供

---

## 🎯 期待される効果

### ✅ **基盤プロジェクトとして**
- **学習コストの削減**: 必須範囲が明確で導入しやすい
- **汎用性の向上**: どのプロジェクトでも活用可能
- **品質の安定**: 確実に効果のある範囲に絞込み

### ✅ **利用者にとって**
- **判断が容易**: 何を使うべきか明確
- **カスタマイズしやすい**: プロジェクト固有部分は自由に設計
- **段階的導入**: 必須部分から順次適用可能

---

## 🤔 検討事項

1. **開発環境 vs 本番環境の境界線**
   - 開発環境セットアップ → ✅ ベースプロジェクトで標準化
   - 本番インフラ設計 → 📚 実サービス向けガイドラインで提供
   - Docker開発環境 vs Kubernetes本番環境の使い分け

2. **Vercel特化の実サービス向けガイドライン**
   - 同一リポジトリの別ディレクトリ（例：`production-guides/`）
   - Vercel + Neon/PlanetScale の本番構成に特化
   - 実際のプロジェクト設定手順 + トラブルシューティング

3. **追加すべき開発環境ガイドライン**
   - Docker Compose完全構成の詳細化
   - VS Code + 開発ツールチェーンの統一
   - 開発用データ・シードスクリプト管理

---

## 🔄 最終提案構成

```
📦 ベースプロジェクト（汎用・標準化）
├── 10-8-development-environment-guidelines.md  ← 新規追加
└── 10-9-code-review-guidelines.md             ← 新規追加

📚 実サービス向けガイド（Vercel特化）
├── production-guides/
│   ├── vercel-production-setup.md        ← Vercel本番設定・最適化
│   ├── database-production-management.md ← Neon/PlanetScale本番運用
│   └── monitoring-alerting-setup.md      ← 本番監視・アラート
```

この見直し提案はいかがでしょうか？

- **ベースプロジェクト**: 開発環境+コードレビューを追加して完成
- **実サービス向け**: Vercelに特化してシンプル・実用的に
- **範囲が明確**: 汎用 vs Vercel特化で責任範囲が分離

適切な範囲に絞り込めると思いますが、どう思われますか？